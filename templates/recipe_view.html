{#
# Copyright 2022 Patrick Mahoney
#
#}

{% extends "base.html" %}

{% block content %}

<h2>{{recipe.name}}</h2>

<h3>Ingredients
  <a href="/recipe/{{recipe.id}}/edit-ingredients" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-edit"></i>Edit</a>
</h3>
<table class="table">
  <thead>
  <tr>
    <th scope="col">Name</th>
    <th scope="col">Amount</th>
    <th scope="col">Measurement</th>
    <th scope="col">Preparation</th>
  </tr>
  </thead>
  <tbody>
  {% for i in ingredients %}
  <tr>
    <td>{{i.name}}</td>
    <td>{{i.amount}}</td>
    <td>{{i.measurement}}</td>
    <td>{{i.preparation}}</td>
  </tr>
  {% endfor %}
  </tbody>
</table>

<h3>Directions
  <a href="/recipe/{{recipe.id}}/edit-directions" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-edit"></i></a>
</h3>
<table>
{% for idx in range(0,len) %}
    <tr>
      <td width="25px"><p class="step-number">{{ idx+1 }}</p></td>
      <td>
        <div>
          <p class="step-title">{{ directions[idx]['title'] }}</p>
          <p class="step-text">{{ directions[idx]['text'] }}</p>
        </div>
      </td>
    </tr>
{% endfor %}
</table>

<div class="btn-group">
  <a href="/recipe/{{recipe.id}}/delete" class="btn btn-danger btn-sm">
    <i class="glyphicon glyphicon-trash"></i>
    Delete
  </a>
</div>

{% endblock %}
